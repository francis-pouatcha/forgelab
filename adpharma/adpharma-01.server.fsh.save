





@/* Download and install jboss-eap-6.1 */;
@/* Install these plugins if not done yet. */;
@/* forge install-plugin arquillian */;
@/* forge install-plugin jboss-as-7 */;
@/* forge install-plugin angularjs */;
@/* git clone https://github.com/clovisgakam/forge-envers-plugin.git */;
@/* forge source-plugin forge-envers-plugin */;
@/* git clone https://github.com/clovisgakam/forge-enumeration-plugin.git */;
@/* forge source-plugin forge-enumeration-plugin */;
@/* git clone https://github.com/francis-pouatcha/forge-repository-plugin.git */;
@/* forge source-plugin forge-repository-plugin */;
@/* git clone https://github.com/francis-pouatcha/javaext.description.git */;
@/* cd javaext.description | mvn clean install | cd .. */;
@/* git clone https://github.com/francis-pouatcha/forge-description-plugin.git */;
@/* forge source-plugin forge-description-plugin */;

set ACCEPT_DEFAULTS true;

new-project --named adpharma.server --topLevelPackage org.adorsys.adpharma.server --finalName adpharma.server --projectFolder adpharma.server;

as7 setup;

persistence setup --provider HIBERNATE --container JBOSS_AS7;

validation setup;

description setup;

set ACCEPT_DEFAULTS false;

enum setup;

repogen setup;

association setup;

@/* Enum Group: can be used to group components and limit the amount of components displayed to a user. */;
@/* These are not one to one identical to roles. */;
java new-enum-type --named WorkGroup --package ~.jpa;
enum add-enum-class-description --title "Work Group" --text "A work group";
enum add-enum-class-description --title "Groupe de Travail" --text "Un groupe de travail" --locale fr;
java new-enum-const ADMIN;
enum add-enum-constant-description --onConstant ADMIN --title "Administrator" --text "Adminitrator of this platform";
enum add-enum-constant-description --onConstant ADMIN --title "Administrateur" --text "Administrateur de ce progiciel" --locale fr;
java new-enum-const USER;
enum add-enum-constant-description --onConstant USER  --title "User" --text "User of this application" ;
enum add-enum-constant-description --onConstant USER  --title "Utilisateur" --text "Utilisateur de ce progiciel" --locale fr ;
java new-enum-const CASHIER;
enum add-enum-constant-description --onConstant CASHIER  --title "Cachier" --text "Cashier" ;
enum add-enum-constant-description --onConstant CASHIER  --title "Caissier" --text "Caissier" --locale fr;
java new-enum-const WAREHOUSEMAN;
enum add-enum-constant-description --onConstant WAREHOUSEMAN  --title "Warehouseman" --text "Warehouseman" ;
enum add-enum-constant-description --onConstant WAREHOUSEMAN  --title "Magasinier" --text "Magasinier" --locale fr;
java new-enum-const MANAGER;
enum add-enum-constant-description --onConstant MANAGER  --title "Manager" --text "Manager" ;
enum add-enum-constant-description --onConstant MANAGER  --title "Manageur" --text "Manageur" --locale fr;
java new-enum-const SALES;
enum add-enum-constant-description --onConstant SALES  --title "Sales" --text "Sales" ;
enum add-enum-constant-description --onConstant SALES  --title "Vente" --text "Vente" --locale fr;

cd ~~;


@/* Enum AccessRoleEnum */;
java new-enum-type --named AccessRoleEnum --package ~.jpa;
enum add-enum-class-description --title "Access Role Names" --text "The name of access roles defined in this application";
enum add-enum-class-description --title "Enumeration des Droit pour Accès" --text "les noms de rolles autprissant accès au systeme" --locale fr;

java new-enum-const ADMIN;
enum add-enum-constant-description --onConstant ADMIN --title "Administrator" --text "The user administrator";
enum add-enum-constant-description --onConstant ADMIN --title "Administrateur" --text "Administrateur du système" --locale fr;

java new-enum-const LOGIN;
enum add-enum-constant-description --onConstant LOGIN  --title "User" --text "Role assigned to each user that can sig into this system";
enum add-enum-constant-description --onConstant LOGIN  --title "Connection" --text "Rôle attribué à chaque utilisateur pouvant ce connecter à ce système" --locale fr;
access login-role --onConstant LOGIN;

java new-enum-const MANAGER;
enum add-enum-constant-description --onConstant MANAGER  --title "Manager" --text "The manager has access to each component except the user management component";
enum add-enum-constant-description --onConstant MANAGER  --title "Gestionnaire" --text "Le gestionnaire a accès à chaque module sauf le module de gestion des utilisateurs" --locale fr;

java new-enum-const CASHIER;
enum add-enum-constant-description --onConstant CASHIER  --title "Cashier" --text "The cashier has access to the modules CashDrawer, Payment and Invoice";
enum add-enum-constant-description --onConstant CASHIER  --title "Caissier" --text "Le caissier a accès aux modules Caisse, Paiement et facturation" --locale fr;

java new-enum-const WAREHOUSEMAN;
enum add-enum-constant-description --onConstant WAREHOUSEMAN  --title "Warehousemann" --text "The warehousemann has access to the modules Article, Delivery, Procurement Order, Packaging Mode, Supplier, Inventory, Purchase Order";
enum add-enum-constant-description --onConstant WAREHOUSEMAN  --title "Magasinier" --text "Le magasinier a accès aux modules Produit, Livraison, Approvisionement, Mode de Conditionement, Inventaire, Commande Fournisseur" --locale fr;

java new-enum-const SALES;
enum add-enum-constant-description --onConstant SALES  --title "Sales" --text "The sales has access to the modules Sales Order, Customer, Insurance, Employer, Hospital, Prescriber, Prescription Book";
enum add-enum-constant-description --onConstant SALES  --title "Vendeur" --text "Le vendeur a accès aux modules Command Client, Client, Assurance, Employeur, Hopital, Prescripteur, Ordonnancier" --locale fr;




cd ~~;


@/* Enum PermissionActionEnum */;
java new-enum-type --named PermissionActionEnum --package ~.jpa;
enum add-enum-class-description --title "Authorized Action" --text "An action associated with a permission";
enum add-enum-class-description --title "Action Autorisation" --text "Une action associée avec cette autorisation" --locale fr;

java new-enum-const ALL;
enum add-enum-constant-description --onConstant ALL --title "All Actions" --text "Allow all actions associated with this permission";
enum add-enum-constant-description --onConstant ALL --title "Toutes Action" --text "Permettre toute action associée à cette autorisation" --locale fr;

java new-enum-const READ;
enum add-enum-constant-description --onConstant READ  --title "Read" --text "The bearer can read component protected by this permission";
enum add-enum-constant-description --onConstant READ  --title "Lecture" --text "Le porteur peut lire la donnée protégée par cette autorisation" --locale fr;

java new-enum-const CREATE;
enum add-enum-constant-description --onConstant CREATE  --title "Create" --text "Allows the bearer to create an instance of the component protected by the associated permission";
enum add-enum-constant-description --onConstant CREATE  --title "Créer" --text "Permet au porteur de créer une instance du genre protégé par la permission associée" --locale fr;

java new-enum-const EDIT;
enum add-enum-constant-description --onConstant EDIT  --title "Modify" --text "Allows the bearer to modify an instance of the component protected by the associated permission";
enum add-enum-constant-description --onConstant EDIT  --title "Modifier" --text "Permet au porteur de modifier une instance du genre protégé par la permission associée" --locale fr;


cd ~~;


@/* Entity PermissionName */;
entity --named PermissionName --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Permission" --text "A permission protecting an entity";
description add-class-description --title "Permission" --text "Une permission protegeant une entité" --locale fr;
access permission-table --actionEnumClass ~.jpa.PermissionActionEnum;

field string --named name;
description add-field-description --onProperty name --title "Permission Name" --text "The name of this permission";
description add-field-description --onProperty name --title "Nom de la Permission" --text "Intitule de cete permission" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;
constraint NotNull --onProperty name;
description add-notNull-message --onProperty name --title "Enter the name of this autorization" --text "Enter the name of this autorization";
description add-notNull-message --onProperty name --title "Saisir le nom de cette autorisation" --text "Saisir le nom de cette autorisation" --locale fr;
access permission-name-field --onProperty name;

field custom --named action --type ~.jpa.PermissionActionEnum;
description add-field-description --onProperty action --title "Authorized Action" --text "The action associated with a permission";
description add-field-description --onProperty action --title "Action Autorisation" --text "Action associée avec cette autorisation" --locale fr;
enum enumerated-field --onProperty action;
display add-list-field --field action;
display add-toString-field --field action;
constraint NotNull --onProperty action;
description add-notNull-message --onProperty action --title "Select an action for this autorization" --text "Select an action for this autorization";
description add-notNull-message --onProperty action --title "Selectioner une action à associer avec cette autorisation" --text "Selectioner une action à associer avec cette autorisation" --locale fr;
access permission-action-field --onProperty action;


cd ~~;


@/* Entity RoleName */;
entity --named RoleName --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Roles" --text "Entity used to map roles";
description add-class-description --title "Roles" --text "Entité écoutant mes roles" --locale fr;
access role-table --enumClass ~.jpa.AccessRoleEnum;

field string --named name;
description add-field-description --onProperty name --title "Role Name" --text "The name of this role";
description add-field-description --onProperty name --title "Intitule du Role" --text "Intitule de ce role" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;
access role-name-field --onProperty name;

relationship add --sourceEntity ~.jpa.RoleName --sourceQualifier permissions --targetEntity ~.jpa.PermissionName;
cd ../RoleName.java;
description add-field-description --onProperty permissions --title "Permissions of this Role" --text "Permissions associated with this role.";
description add-field-description --onProperty permissions --title "Permissions de ce Role" --text "Les permissions associées avec ce role" --locale fr;
association set-type --onProperty permissions --type AGGREGATION --targetEntity ~.jpa.PermissionName;
association set-selection-mode --onProperty permissions --selectionMode TABLE;


cd ~~;


@/* Entity Login */;
entity --named Login --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Login" --text "A login record";
description add-class-description --title "Connection" --text "Une connection" --locale fr;
access login-table;

access login-entry --userName "admin" --password "admin";
access role-entry --userName "admin" --role "LOGIN";
access role-entry --userName "admin" --role "ADMIN"; 

field string --named loginName;
description add-field-description --onProperty loginName --title "User Name" --text "The name used by the user to login.";
description add-field-description --onProperty loginName --title "Nom de Connection" --text "Le nom de connetion de cet utilisateur." --locale fr;
constraint NotNull --onProperty loginName;
description add-notNull-message --onProperty loginName --title "User name is required" --text "User name is required";
description add-notNull-message --onProperty loginName --title "Nom de connection est réquis" --text "Nom de connection est réquis" --locale fr;
display add-toString-field --field loginName;
display add-list-field --field loginName;
@/* Unique=true */;
access login-name-field --onProperty loginName;

field string --named fullName;
description add-field-description --onProperty fullName --title "Full Name" --text "The full name of the user.";
description add-field-description --onProperty fullName --title "Nom Complet" --text "Le nom complet dede cet ilisateur." --locale fr;
constraint NotNull --onProperty fullName;
description add-notNull-message --onProperty fullName --title "The full name is required" --text "The full name is required";
description add-notNull-message --onProperty fullName --title "Le nom complet est réquis" --text "Le nom complet est réquis" --locale fr;
access full-name-field --onProperty fullName;

field string --named password;
description add-field-description --onProperty password --title "Password" --text "The password of the user.";
description add-field-description --onProperty password --title "Mot de Passe" --text "Mot de passe de cet utilisateur." --locale fr;
access password-field --onProperty password;

field boolean --named disableLogin --primitive false;
@/*  default=false */;
description add-field-description --onProperty disableLogin --title "Disable Login" --text "Indicates whether the user login is disabled.";
description add-field-description --onProperty disableLogin --title "Login Desactivé" --text "Indique si le login de cet utilisateur est desactivé ou non." --locale fr;

field boolean --named accountLocked --primitive false;
@/*  default=false */;
description add-field-description --onProperty accountLocked --title "Account Locked" --text "Indicates whether the user account is locked.";
description add-field-description --onProperty accountLocked --title "Compte Bloqué" --text "Indique si le compte(login+password) est bloqué ou pas." --locale fr;

field temporal --type TIMESTAMP --named credentialExpiration; 
@/* Default = +50 ans   */;
description add-field-description --onProperty credentialExpiration --title "Password Expiration" --text "Date of expiration of the user password.";
description add-field-description --onProperty credentialExpiration --title "Expiration Mot de Passe" --text "Date expiration du certificat utilisateur." --locale fr;
format add-date-pattern --onProperty credentialExpiration --pattern "dd-MM-yyyy HH:mm"; 

field temporal --type TIMESTAMP --named accountExpiration; 
@/* pattern=dd-MM-yyyy HH:mm  Default = +50 ans */;
description add-field-description --onProperty accountExpiration --title "Account Expiration Date" --text "Account expiration date";
description add-field-description --onProperty accountExpiration --title "Date pour Expiration du Compte" --text "Date pour expiration du compte" --locale fr;
format add-date-pattern --onProperty accountExpiration --pattern "dd-MM-yyyy HH:mm"; 

relationship add --sourceEntity ~.jpa.Login --sourceQualifier roleNames --targetEntity ~.jpa.RoleName;
cd ../Login.java;
description add-field-description --onProperty roleNames --title "Role Names" --text "The names of roles assigned to this login";
description add-field-description --onProperty roleNames --title "Nom des Roles" --text "Les nom de role attribués a de cet utilisateur" --locale fr;
association set-type --onProperty roleNames --type AGGREGATION --targetEntity ~.jpa.RoleName;
association set-selection-mode --onProperty roleNames --selectionMode FORWARD;


cd ~~;



@/* Entity Company */;
entity --named Company --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Company" --text "The Company";
description add-class-description  --locale fr --title "Compagnie" --text "La compagnie";
group add --grouper ~.jpa.WorkGroup --named MANAGER;

field string --named displayName;
description add-field-description --onProperty displayName --title "Display Name" --text "The display name";
description add-field-description --onProperty displayName --title "Nom affiché" --text "Nom affiché" --locale fr;
constraint NotNull --onProperty displayName;
description add-notNull-message --onProperty displayName --title "Display name is required" --text "Display name is required";
description add-notNull-message --onProperty displayName --title "Nom affiché est réquis" --text "Nom affiché est réquis" --locale fr;
display add-toString-field --field displayName;
display add-list-field --field displayName;

field string --named phone;
description add-field-description --onProperty phone --title "Phone" --text "The site phone number";
description add-field-description --onProperty phone --title "Téléphone" --text "Téléphone du site" --locale fr;
display add-list-field --field phone;

field string --named fax;
description add-field-description --onProperty fax --title "Fax" --text "The fax number of the site";
description add-field-description --onProperty fax --title "Fax" --text "Fax du site" --locale fr;
display add-list-field --field fax;

field string --named siteManager;
description add-field-description --onProperty siteManager --title "Site Manager" --text "The name of the site manager";
description add-field-description --onProperty siteManager --title "Manager du Site" --text "Le nom du manager du site" --locale fr;
display add-list-field --field siteManager;

field string --named email;
description add-field-description --onProperty email --title "Email" --text "The email address of the site";
description add-field-description --onProperty email --title "Email" --text "Email du site" --locale fr;
display add-list-field --field email;

field string --named street;
description add-field-description --onProperty street --title "Street" --text "The name of the street of this company";
description add-field-description --onProperty street --title "Rue" --text "Nom de la rue de cette company" --locale fr;

field string --named zipCode;
description add-field-description --onProperty zipCode --title "Zip Code" --text "The zip code of this company";
description add-field-description --onProperty zipCode --title "Code Postale" --text "Le code poastale de cette companie" --locale fr;

field string --named city;
description add-field-description --onProperty city --title "City" --text "The city in which this company is lacated";
description add-field-description --onProperty city --title "Ville" --text "La ville ou cette companie est isntallé" --locale fr;

field string --named country;
description add-field-description --onProperty country --title "Country" --text "The country in which this comapny is located";
description add-field-description --onProperty country --title "Pays" --text "Le pays ou cette companie est installée" --locale fr;

field string --named siteInternet;
description add-field-description --onProperty siteInternet --title "Web Site" --text "The web site of this company";
description add-field-description --onProperty siteInternet --title "Site Internet" --text "Site internet du cette companie" --locale fr;

field string --named mobile;
description add-field-description --onProperty mobile --title "Mobile Phone" --text "The mobile phone of this company";
description add-field-description --onProperty mobile --title "Téléphone Mobile" --text "Téléphone mobile de cette companie" --locale fr;

field string --named registerNumber;
description add-field-description --onProperty registerNumber --title "Register Number" --text "The register number of this company";
description add-field-description --onProperty registerNumber --title "Numéro de Registre" --text "Numéro de registre du commerce de cette société" --locale fr;


cd ~~;


@/* Entity Gender */;
java new-enum-type --named Gender --package ~.jpa;
enum add-enum-class-description --title "Gender" --text "The gender of a user.";
enum add-enum-class-description --locale fr --title "Genre" --text "Le genre de cet utilisateur.";
java new-enum-const MALE;
enum add-enum-constant-description --onConstant MALE --title "Male" --text "Gender type male.";
enum add-enum-constant-description --locale fr --onConstant MALE --title "Masculin" --text "Le genre masculin.";
java new-enum-const FEMALE;
enum add-enum-constant-description --onConstant FEMALE  --title "Female" --text "Gender type female" ;
enum add-enum-constant-description --locale fr --onConstant FEMALE  --title "Feminin" --text "Le genre feminin" ;
java new-enum-const NEUTRAL;
enum add-enum-constant-description --onConstant NEUTRAL  --title "Neutral" --text "Gender type neutral" ;
enum add-enum-constant-description --locale fr --onConstant NEUTRAL  --title "Neutre" --text "Le genre neutre" ;


cd ~~;


@/* Entity Agence */;
entity --named Agency --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Agency" --text "An agency of this pharmacie";
description add-class-description  --locale fr --title "Agence" --text "Une agence de cette pharmacie";
group add --grouper ~.jpa.WorkGroup --named MANAGER;

field string --named agencyNumber;
description add-field-description --onProperty agencyNumber --title "Agency Number" --text "The number of this agency";
description add-field-description --onProperty agencyNumber --title "Numéro Agence" --text "Numéro de la filiale" --locale fr;
display add-toString-field --field agencyNumber;
display add-list-field --field agencyNumber;
@/* add unique constraint generator here */;

field string --named name;
description add-field-description --onProperty name --title "Agency Name" --text "The name of this agency";
description add-field-description --onProperty name --title "Nom Agence" --text "Le nom de cette agence" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;

field string --named description;
description add-field-description --onProperty description --title "Description" --text "The description of this agency";
description add-field-description --onProperty description --title "Description" --text "Description de la filiale" --locale fr;
constraint Size --onProperty description --max 256;
description add-size-message --onProperty description --title "The agency description must have less than 256 characters" --text "The agency description must have less than 256 characters";
description add-size-message --onProperty description --title "La description de cette agence doit avoir moins de 256 caractères" --text "La description de cette agence doit avoir moins de 256 caractères" --locale fr;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this agency is active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si la filiale est active ou non" --locale fr;
display add-list-field --field active;

field string --named street;
description add-field-description --onProperty street --title "Street" --text "The name of the street of this agency";
description add-field-description --onProperty street --title "Rue" --text "Nom de la rue de cette agence" --locale fr;
display add-list-field --field name;

field string --named zipCode;
description add-field-description --onProperty zipCode --title "Zip Code" --text "The zip code of this agency";
description add-field-description --onProperty zipCode --title "Code Postale" --text "Le code poastale de cette agence" --locale fr;

field string --named city;
description add-field-description --onProperty city --title "City" --text "The city of this agency";
description add-field-description --onProperty city --title "Ville" --text "La localite de cette agence" --locale fr;
display add-list-field --field name;

field string --named country;
description add-field-description --onProperty country --title "Country" --text "The country of this agency";
description add-field-description --onProperty country --title "Pays" --text "Le pays de cette agence" --locale fr;

field string --named phone;
description add-field-description --onProperty phone --title "Phone" --text "The site phone number";
description add-field-description --onProperty phone --title "Téléphone" --text "Téléphone du site" --locale fr;
display add-list-field --field phone;

field string --named fax;
description add-field-description --onProperty fax --title "Fax" --text "The fax number of the site";
description add-field-description --onProperty fax --title "Fax" --text "Fax du site" --locale fr;
display add-list-field --field fax;

field manyToOne --named company --fieldType ~.jpa.Company;
description add-field-description --onProperty company --title "Company" --text "The company owner of this agency";
description add-field-description --onProperty company --title "Compagnie" --text "la company pocedant cette agence" --locale fr;
association set-selection-mode --onProperty company --selectionMode COMBOBOX;
association set-type --onProperty company --type AGGREGATION --targetEntity ~.jpa.Company;

field string --named ticketMessage;
description add-field-description --onProperty ticketMessage --title "Ticket Message" --text "The  message for ticker";
description add-field-description --onProperty ticketMessage --title "Message Ticket" --text "le message du ticket" --locale fr;
constraint Size --onProperty ticketMessage --max 256;
description add-size-message --onProperty ticketMessage --title "The ticket message must have less than 256 characters" --text "The ticket message must have less than 256 characters";
description add-size-message --onProperty ticketMessage --title "Le message ticket doit avoir moins de 256 caractères" --text "Le message ticket doit avoir moins de 256 caractères" --locale fr;

field string --named invoiceMessage;
description add-field-description --onProperty invoiceMessage --title "Invoice Message" --text "The message for invoice";
description add-field-description --onProperty invoiceMessage --title "Message Facture" --text "Le message Pour la facture" --locale fr;
constraint Size --onProperty invoiceMessage --max 256;
description add-size-message --onProperty invoiceMessage --title "The invoice message must have less than 256 characters" --text "The invoice message must have less than 256 characters";
description add-size-message --onProperty invoiceMessage --title "Le message sur la facture doit avoir moins de 256 caractères" --text "Le message sur la facture doit avoir moins de 256 caractères" --locale fr;


cd ~~;



@/* Entity Currency */;
entity --named Currency --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Currency" --text "A currency";
description add-class-description  --locale fr --title "Devise" --text "Une devise";
group add --grouper ~.jpa.WorkGroup --named MANAGER;

field string --named name;
description add-field-description --onProperty name --title "Currency Name" --text "The name of this currency.";
description add-field-description --onProperty name --title "Libellé de la Devise" --text "Le nom de cette devise." --locale fr;
constraint NotNull --onProperty name;
description add-notNull-message --onProperty name --title "The currency name is required" --text "The currency name is required";
description add-notNull-message --onProperty name --title "Le libellé de la devise est réquis" --text "Le libellé de la devise est réquis" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;

field string --named shortName;
description add-field-description --onProperty shortName --title "Short Name" --text "The short name of this currency.";
description add-field-description --onProperty shortName --title "Libelle Court" --text "Abréviation du nom de cette devise." --locale fr;
constraint NotNull --onProperty shortName;
description add-notNull-message --onProperty shortName --title "The short name of this currency is required" --text "The short name of this currency is required";
description add-notNull-message --onProperty shortName --title "Le libellé court de cette devise est réquis" --text "Le libellé court de cette devise est réquis" --locale fr;

field number --named cfaEquivalent --type java.math.BigDecimal;
description add-field-description --onProperty cfaEquivalent --title "CFA Equivalent" --text "Corresponding CFA value for conversions.";
description add-field-description --onProperty cfaEquivalent --title "Equivalent CFA" --text "Valeur equivalant cfa pour faire les conversions." --locale fr;
format add-number-type --onProperty cfaEquivalent --type CURRENCY;


cd ~~ ;


@/* Entity Person */;
entity --named Person --package ~.jpa --idStrategy AUTO;
description add-class-description --title "User" --text "A user of this application";
description add-class-description  --locale fr --title "Utilisateur" --text "Un utilisateur de cette application.";
group add --grouper ~.jpa.WorkGroup --named ADMIN;
@/* TODO access add-permission  --action ALL --toRole ADMIN*/;

field custom --named gender --type ~.jpa.Gender;
description add-field-description --onProperty gender --title "Gender" --text "The gender of this user";
description add-field-description --onProperty gender --title "Genre" --text "Le genre de cet utilisateur" --locale fr;
enum enumerated-field --onProperty gender ;
display add-list-field --field gender;
display add-toString-field --field gender;

field string --named firstName;
description add-field-description --onProperty firstName --title "First Name" --text "The first name of the user.";
description add-field-description --onProperty firstName --title "Prénom" --text "Le prénom de cet utilisateur." --locale fr;

field string --named lastName;
description add-field-description --onProperty lastName --title "Last Name" --text "The last name of the user.";
description add-field-description --onProperty lastName --title "Nom de famille" --text "Le nom de cet utilisateur." --locale fr;
constraint NotNull --onProperty lastName;
description add-notNull-message --onProperty lastName --title "Last name is required" --text "User name is required";
description add-notNull-message --onProperty lastName --title "Le nom de famille est réquis" --text "Le nom de famille est réquis" --locale fr;

field string --named phoneNumber;
description add-field-description --onProperty phoneNumber --title "Phone Number" --text "The phone number of this user.";
description add-field-description --onProperty phoneNumber --title "Numéro de Telephone" --text "Numéro de téléphone de cet utilisateur." --locale fr;
display add-list-field --field phoneNumber;

field string --named street;
description add-field-description --onProperty street --title "Street" --text "The name of the street of this user";
description add-field-description --onProperty street --title "Rue" --text "Nom de la rue de cet utilisateur" --locale fr;

field string --named zipCode;
description add-field-description --onProperty zipCode --title "Zip Code" --text "The zip code of this user";
description add-field-description --onProperty zipCode --title "Code Postale" --text "Le code poastale de cet utilisateur" --locale fr;

field string --named city;
description add-field-description --onProperty city --title "City" --text "The city of this user";
description add-field-description --onProperty city --title "Ville" --text "La vile de cet utilisateur" --locale fr;

field string --named country;
description add-field-description --onProperty country --title "Country" --text "The country of this user";
description add-field-description --onProperty country --title "Pays" --text "Le pays de cet utilisateur" --locale fr;

field string --named email;
description add-field-description --onProperty email --title "Email" --text "The email address of this user";
description add-field-description --onProperty email --title "Email" --text "Adresse email de cet utilisateur" --locale fr;
display add-list-field --field userName;

field manyToOne --named agency --fieldType ~.jpa.Agency;
description add-field-description --onProperty agency --title "Agency" --text "The agency in which the user is registered.";
description add-field-description --onProperty agency --title "Agence" --text "Agence dans laquel cet utilisateur est enregistré." --locale fr;
association set-selection-mode --onProperty agency --selectionMode COMBOBOX;
association set-type --onProperty agency --type AGGREGATION --targetEntity ~.jpa.Agency;
display add-list-field --field agency.name;

field number --named discountRate --type java.math.BigDecimal;
description add-field-description --onProperty discountRate --title "Discount Rate" --text "The discount rate this user can give to clients.";
description add-field-description --onProperty discountRate --title "Taux Remise" --text "Taux de remise que cet utilisateur peut accorder aux clients." --locale fr;
format add-number-type --onProperty discountRate --type PERCENTAGE;
@/* Default= 15% */;

field string --named saleKey;
description add-field-description --onProperty saleKey --title "Sale Key" --text "The sales key of saller for a sales session open to all users. ";
description add-field-description --onProperty saleKey --title "Sale Key" --text "Clé de vente du vendeur pour la session vente ouverte à tous les utilisateurs." --locale fr;

cd ~~;


@/* Entity VAT */;
entity --named VAT --package ~.jpa --idStrategy AUTO;
description add-class-description --title "VAT" --text "The value added tax";
description add-class-description  --locale fr --title "TVA" --text "Taxe sur la valeure ajoutée";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named code;
description add-field-description --onProperty code --title "VAT Code" --text "The code of this VAT";
description add-field-description --onProperty code --title "Code TVA" --text "Le code de la TVA" --locale fr;
display add-toString-field --field code;
display add-list-field --field code;

field number --named rate --type java.math.BigDecimal;
description add-field-description --onProperty rate --title "VAT Rate" --text "The VAT rate";
description add-field-description --onProperty rate --title "Taux TVA" --text "Taux de la TVA" --locale fr;
display add-list-field --field rate;
format add-number-type --onProperty rate --type  PERCENTAGE;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this VAT is active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si la TVA est Actif ou pas." --locale fr;
display add-list-field --field active;

@/* Entity SalesMargin */;
entity --named SalesMargin --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Sales Margin" --text "The sales margin on this product.";
description add-class-description  --locale fr --title "Taux de Marge" --text "Le taux de marge du produit.";

field string --named code;
description add-field-description --onProperty code --title "Margin Code" --text "The code of this margin";
description add-field-description --onProperty code --title "Code Marge" --text "Numéro de la marge" --locale fr;
display add-toString-field --field code;
display add-list-field --field code;

field number --named rate --type java.math.BigDecimal;
description add-field-description --onProperty rate --title "Marging Rate" --text "The rate of this margin.";
description add-field-description --onProperty rate --title "Taux de Marge" --text "Taux de la marge." --locale fr;
format add-number-type --onProperty rate --type  PERCENTAGE;
display add-list-field --field rate;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this margin rate is Active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si ce taux de marge est actif ou pas." --locale fr;
display add-list-field --field active;


cd ~~ ;


@/* Enum type DocumentState State */;
java new-enum-type --named DocumentProcessingState --package ~.jpa ;
enum add-enum-class-description --title "State" --text "The state of the document";
enum add-enum-class-description --title "Status" --text "État du document" --locale fr;
java new-enum-const SUSPENDED ;
enum add-enum-constant-description --onConstant SUSPENDED --title "Suspended" --text "Suspended document";
enum add-enum-constant-description --onConstant SUSPENDED --title "Suspendu" --text "Document suspendu" --locale fr ;
java new-enum-const ONGOING ;
enum add-enum-constant-description --onConstant ONGOING --title "Ongoing" --text "Ongoing document";
enum add-enum-constant-description --onConstant ONGOING --title "En Cours" --text "Document en cours" --locale fr ;
java new-enum-const RESTORED ;
enum add-enum-constant-description --onConstant RESTORED --title "Restored" --text "Restored document";
enum add-enum-constant-description --onConstant RESTORED --title "Restauré" --text "Document restauré" --locale fr ;


cd ~~;


@/* Entity Clearance Config */;
entity --named ClearanceConfig --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Clearance Configuration" --text "Configuration for the clearance of a product.";
description add-class-description --title "Configuration Solde" --text "Permet de créer une configuration du solde pour un produit." --locale fr;
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field temporal --type TIMESTAMP --named startDate; 
@/*  pattern=dd-MM-yyyy Date */;
description add-field-description --onProperty startDate --title "Clearance Start Date" --text "Start date for this clearance";
description add-field-description --onProperty startDate --title "Date Début Solde" --text "Date de debut du solde" --locale fr;
constraint NotNull --onProperty startDate;
description add-notNull-message --onProperty startDate --title "The clearance start date is required" --text "The clearance start date is required";
description add-notNull-message --onProperty startDate --title "La date du début du solde est réquise" --text "La date du début du solde est réquise" --locale fr;
display add-toString-field --field startDate;
display add-list-field --field startDate;
format add-date-pattern --onProperty startDate --pattern "dd-MM-yyyy"; 

field temporal --type TIMESTAMP --named endDate; 
@/*  pattern=dd-MM-yyyy Date*/;
description add-field-description --onProperty endDate --title "Clearance End Date" --text "End date for this clearance";
description add-field-description --onProperty endDate --title "Date Fin Solde" --text "Date de fin du solde." --locale fr;
constraint NotNull --onProperty endDate;
description add-notNull-message --onProperty endDate --title "The clearance end date is required" --text "The clearance end date is required";
description add-notNull-message --onProperty endDate --title "La date de fin du solde est réquise" --text "La date de fin du solde est réquise" --locale fr;
display add-toString-field --field endDate;
display add-list-field --field endDate;
format add-date-pattern --onProperty endDate --pattern "dd-MM-yyyy"; 

field number --named discountRate --type java.math.BigDecimal;
@/*   Default=5 */;
description add-field-description --onProperty discountRate --title "Discount Rate" --text "Discount rate for this clearance.";
description add-field-description --onProperty discountRate --title "Taux Remise" --text "Taux de remise pour ce solde." --locale fr;
constraint NotNull --onProperty discountRate;
description add-notNull-message --onProperty discountRate --title "The clearance discount rate is required" --text "The clearance discount rate is required";
description add-notNull-message --onProperty discountRate --title "Le taux de remise du solde est réquis" --text "Le taux de remise du solde est réquis" --locale fr;
constraint DecimalMin --onProperty discountRate --min 1.0;
description add-decimalMin-message --onProperty discountRate --title "The clearance minimum discount rate is 1%" --text "The clearance minimum discount rate is 1%";
description add-decimalMin-message --onProperty discountRate --title "Le taux de remise minimum du solde est de 1%" --text "Le taux de remise minimum du solde est de 1%" --locale fr;
constraint DecimalMax --onProperty discountRate --max 100.0;
description add-decimalMax-message --onProperty discountRate --title "The clearance maximum discount rate is 100%" --text "The clearance maximum discount rate is 100%";
description add-decimalMax-message --onProperty discountRate --title "Le taux de remise maximum du solde est de 100%" --text "Le taux de remise maximum du solde est de 100%" --locale fr;
format add-number-type --onProperty discountRate --type PERCENTAGE;
display add-toString-field --field discountRate;
display add-list-field --field discountRate;

field custom --named clearanceState --type ~.jpa.DocumentProcessingState.java ;
@/* default DocumentProcessingState.ONGOING */;
description add-field-description --onProperty clearanceState --title "Clearance State" --text "The clearance state";
description add-field-description --onProperty clearanceState --title "État du Solde" --text "État du solde" --locale fr;
enum enumerated-field --onProperty clearanceState ;
display add-toString-field --field clearanceState;
display add-list-field --field clearanceState;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this clearance configuration is active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si cette configuration solde est active ou non" --locale fr;
@/* default=Boolean.TRUE */;
display add-list-field --field active;


cd ~~;


@/* Entity PackagingMode, ModeConditionnement */;
entity --named PackagingMode --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Packaging Mode" --text "The product packaging mode";
description add-class-description --locale fr --title "Mode de Conditionement" --text "Le mode de conditionnement du produit";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named name;
description add-field-description --onProperty name --title "Packaging Mode Name" --text "The name of this packaging mode";
description add-field-description --onProperty name --title "Libelle du Mode de Conditionement" --text "Nom du mode de conditionnement" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;

cd ~~;


@/* Entity Section */;
entity --named Section --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Section" --text "A section in the storage of this pharmacie.";
description add-class-description  --locale fr --title "Rayon" --text "Un rayon dans le magasin de cette pharmacie";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named sectionCode;
description add-field-description --onProperty sectionCode --title "Section Code" --text "The code of this section";
description add-field-description --onProperty sectionCode --title "Code Rayon" --text "Le code du rayon" --locale fr;
display add-toString-field --field sectionCode;
display add-list-field --field sectionCode;

field string --named name;
description add-field-description --onProperty name --title "Section Name" --text "The name of this section";
description add-field-description --onProperty name --title "Nom du Rayon" --text "Le nom du rayon" --locale fr;
constraint NotNull --onProperty name;
description add-notNull-message --onProperty name --title "The section name is required" --text "The section name is required";
description add-notNull-message --onProperty name --title "Le nom du rayon est réquis" --text "Le nom du rayon est réquis" --locale fr;
display add-list-field --field name;

field string --named displayName;
description add-field-description --onProperty displayName --title "Display Name" --text "Field to display the name of this section";
description add-field-description --onProperty displayName --title "Nom Affiche" --text "Champ affichant le nom du rayon du nom du rayon" --locale fr;
display add-list-field --field displayName;

field string --named position;
description add-field-description --onProperty position --title "Position" --text "Code to identify the position of his section";
description add-field-description --onProperty position --title "Position" --text "Code identifiant la position du rayon." --locale fr;
display add-list-field --field position;

field string --named geoCode;
description add-field-description --onProperty geoCode --title "Geographic Code" --text "Geographic code for the identification of the position of this article in the pharmacie";
description add-field-description --onProperty geoCode --title "Code Géographique" --text "Code géographique identifiant physiquement un produit dans la pharmacie" --locale fr;

field string --named description;
description add-field-description --onProperty description --title "Description" --text "Description of the section";
description add-field-description --onProperty description --title "Description" --text "Description du rayon" --locale fr;
constraint Size --onProperty description --max 256;
description add-size-message --onProperty description --title "The description must have less than 256 characters" --text "The description must have less than 256 characters";
description add-size-message --onProperty description --title "La description doit avoir moins de 256 caractères" --text "La description doit avoir moins de 256 caractères" --locale fr;

field manyToOne --named agency --fieldType ~.jpa.Agency;
description add-field-description --onProperty agency --title "Agency" --text "Agency in which the section is located";
description add-field-description --onProperty agency --title "Agency" --text "Agency dans lequel le rayon se trouve." --locale fr;
association set-selection-mode --onProperty agency --selectionMode COMBOBOX ;
association set-type --onProperty agency --type AGGREGATION --targetEntity ~.jpa.Agency;
display add-list-field --field agency.name;
constraint NotNull --onProperty agency;
description add-notNull-message --onProperty agency --title "An agency must be selected" --text "An agency must be selected";
description add-notNull-message --onProperty agency --title "Une agence doit être sélectionné" --text "Une agence doit être sélectionné" --locale fr;



cd ~~ ;



@/* ================================== */;
@/* Product */;

@/* Entity ProductFamily */;
entity --named ProductFamily --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Product Family" --text "The product family";
description add-class-description  --locale fr --title "Famille Produit" --text "La famille produit";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named code;
description add-field-description --onProperty code --title "Product Family Code" --text "The code of this product family";
description add-field-description --onProperty code --title "Code de la Famille Produit" --text "Le code de la famille produit" --locale fr;
display add-toString-field --field name;
display add-list-field --field code;

field string --named name;
description add-field-description --onProperty name --title "Product Name" --text "The name of this product family";
description add-field-description --onProperty name --title "Libelle du produit" --text "Le nom de la famille produit" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;

field string --named description;
description add-field-description --onProperty description --title "Description" --text "The description of this product family";
description add-field-description --onProperty description --title "Description" --text "La description de la famille produit." --locale fr;
constraint Size --onProperty description --max 256;
description add-size-message --onProperty description --title "The description must have less than 256 characters" --text "The description must have less than 256 characters";
description add-size-message --onProperty description --title "La description doit avoir moins de 256 caractères" --text "La description doit avoir moins de 256 caractères" --locale fr;

field manyToOne --named parentFamilly --fieldType ~.jpa.ProductFamily;
description add-field-description --onProperty parentFamilly --title "Parent Familly" --text "The parent familly";
description add-field-description --onProperty parentFamilly --title "Famille Parent" --text "La famille parent du produit " --locale fr;
association set-selection-mode --onProperty parentFamilly --selectionMode COMBOBOX;
association set-type --onProperty parentFamilly --type AGGREGATION --targetEntity ~.jpa.ProductFamily;



cd ~~;



@/* Entity VAT */;
entity --named VAT --package ~.jpa --idStrategy AUTO;
description add-class-description --title "VAT" --text "The value added tax";
description add-class-description  --locale fr --title "TVA" --text "Taxe sur la valeure ajoutée";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named code;
description add-field-description --onProperty code --title "VAT Code" --text "The code of this VAT";
description add-field-description --onProperty code --title "Code TVA" --text "Le code de la TVA" --locale fr;
display add-toString-field --field code;
display add-list-field --field code;

field number --named rate --type java.math.BigDecimal;
description add-field-description --onProperty rate --title "VAT Rate" --text "The VAT rate";
description add-field-description --onProperty rate --title "Taux TVA" --text "Taux de la TVA" --locale fr;
display add-list-field --field rate;
format add-number-type --onProperty rate --type  PERCENTAGE;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this VAT is active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si la TVA est Actif ou pas." --locale fr;
display add-list-field --field active;

@/* Entity SalesMargin */;
entity --named SalesMargin --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Sales Margin" --text "The sales margin on this product.";
description add-class-description  --locale fr --title "Taux de Marge" --text "Le taux de marge du produit.";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named code;
description add-field-description --onProperty code --title "Margin Code" --text "The code of this margin";
description add-field-description --onProperty code --title "Code Marge" --text "Numéro de la marge" --locale fr;
display add-toString-field --field code;
display add-list-field --field code;

field number --named rate --type java.math.BigDecimal;
description add-field-description --onProperty rate --title "Marging Rate" --text "The rate of this margin.";
description add-field-description --onProperty rate --title "Taux de Marge" --text "Taux de la marge." --locale fr;
format add-number-type --onProperty rate --type  PERCENTAGE;
display add-list-field --field rate;

field boolean --named active --primitive false;
description add-field-description --onProperty active --title "Active" --text "Says if this margin rate is Active or not";
description add-field-description --onProperty active --title "Actif" --text "Indique si ce taux de marge est actif ou pas." --locale fr;
display add-list-field --field active;

cd ~~ ;

@/* Enum type DocumentState State */;
java new-enum-type --named DocumentProcessingState --package ~.jpa ;
enum add-enum-class-description --title "State" --text "The state of the document";
enum add-enum-class-description --title "Status" --text "État du document" --locale fr;
java new-enum-const SUSPENDED ;
enum add-enum-constant-description --onConstant SUSPENDED --title "Suspended" --text "Suspended document";
enum add-enum-constant-description --onConstant SUSPENDED --title "Suspendu" --text "Document suspendu" --locale fr ;
java new-enum-const ONGOING ;
enum add-enum-constant-description --onConstant ONGOING --title "Ongoing" --text "Ongoing document";
enum add-enum-constant-description --onConstant ONGOING --title "En Cours" --text "Document en cours" --locale fr ;
java new-enum-const RESTORED ;
enum add-enum-constant-description --onConstant RESTORED --title "Restored" --text "Restored document";
enum add-enum-constant-description --onConstant RESTORED --title "Restauré" --text "Document restauré" --locale fr ;



cd ~~;


@/* Entity PackagingMode, ModeConditionnement */;
entity --named PackagingMode --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Packaging Mode" --text "The product packaging mode";
description add-class-description --locale fr --title "Mode de Conditionement" --text "Le mode de conditionnement du produit";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;

field string --named name;
description add-field-description --onProperty name --title "Packaging Mode Name" --text "The name of this packaging mode";
description add-field-description --onProperty name --title "Libelle du Mode de Conditionement" --text "Nom du mode de conditionnement" --locale fr;
display add-toString-field --field name;
display add-list-field --field name;



cd ~~ ;


@/* Entity Article */;
entity --named Article --package ~.jpa --idStrategy AUTO;
description add-class-description --title "Article" --text "An article or any oder drug sold in the pharmacy";
description add-class-description  --locale fr --title "Article" --text "Un produit ou medicament en vente dans cette pharmacie";
group add --grouper ~.jpa.WorkGroup --named MANAGER;
@/* TODO access add-permission  --action ALL --toRole MANAGER*/;
group add --grouper ~.jpa.WorkGroup --named WAREHOUSEMAN;
@/* TODO access add-permission  --action READ --toRole WAREHOUSEMAN*/;
@/* TODO access add-permission  --action CREATE --toRole WAREHOUSEMAN*/;
group add --grouper ~.jpa.WorkGroup --named CASHIER;
@/* TODO access add-permission  --action READ --toRole CASHIER*/;
group add --grouper ~.jpa.WorkGroup --named SALES;
@/* TODO access add-permission  --action READ --toRole SALES*/;

field string --named articleName;
description add-field-description --onProperty articleName --title "Article Name" --text "The name of this article";
description add-field-description --onProperty articleName --title "Nom de cet Article" --text "Le nom du produit" --locale fr;
display add-toString-field --field articleName;
display add-list-field --field articleName;

field string --named pic; 
@/* Unique */;
description add-field-description --onProperty pic --title "Product Identification Code" --text "The standard product identification code of this product.";
description add-field-description --onProperty pic --title "Code Identifiant Prouit" --text "Le Code identifiant standard du produit." --locale fr;